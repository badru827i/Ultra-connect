<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Ultra Connect</title>
    
    <!-- 1. Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- 2. FontAwesome (Untuk Ikon) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- 3. React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- 4. Babel (Untuk baca kod React dalam browser) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        /* Sembunyikan scrollbar tapi boleh scroll */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        /* Animasi Custom */
        @keyframes blob {
            0% { transform: translate(0px, 0px) scale(1); }
            33% { transform: translate(30px, -50px) scale(1.1); }
            66% { transform: translate(-20px, 20px) scale(0.9); }
            100% { transform: translate(0px, 0px) scale(1); }
        }
        .animate-blob { animation: blob 7s infinite; }
        .animation-delay-2000 { animation-delay: 2s; }
    </style>
</head>
<body class="bg-black text-white select-none">
    
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- MOCK DATA ---
        const MOCK_ACCOUNTS = [
            { id: 1, name: "User Biasa", email: "user@gmail.com", role: "user", tiktok: "@user_tiktok", avatar: "https://api.dicebear.com/7.x/avataaars/svg?seed=Felix" },
            { id: 99, name: "Owner System", email: "admin@google.com", role: "owner", tiktok: "@king_admin", avatar: "https://api.dicebear.com/7.x/avataaars/svg?seed=King" }
        ];

        const App = () => {
            const [view, setView] = useState('intro'); 
            const [user, setUser] = useState(null);
            const [botActive, setBotActive] = useState(false);
            const [botTimer, setBotTimer] = useState(20);
            const [profilePic, setProfilePic] = useState('');
            const [aiChat, setAiChat] = useState([{ sender: 'ai', text: 'Hai! Saya AI Assistant Ultra.' }]);
            const [aiInput, setAiInput] = useState('');

            // --- INTRO EFFECT ---
            useEffect(() => {
                if (view === 'intro') {
                    setTimeout(() => setView('login'), 3500);
                }
            }, [view]);

            // --- BOT TIMER ---
            useEffect(() => {
                let interval;
                if (botActive) {
                    interval = setInterval(() => {
                        setBotTimer((prev) => prev <= 0 ? 20 : prev - 1);
                    }, 1000); // Laju sikit untuk demo (1 saat = 1 minit)
                }
                return () => clearInterval(interval);
            }, [botActive]);

            const playSound = () => {
                if(navigator.vibrate) navigator.vibrate(30);
            };

            const handleLogin = (acc) => {
                playSound();
                setUser(acc);
                setProfilePic(acc.avatar);
                setView('main');
            };

            // --- RENDER SCREENS ---

            // 1. INTRO
            if (view === 'intro') {
                return (
                    <div className="fixed inset-0 bg-black flex flex-col items-center justify-center z-50">
                        <h1 className="text-5xl font-thin tracking-[0.3em] text-white opacity-0 animate-[fadeIn_3s_ease-in_forwards]">WELCOME</h1>
                        <p className="mt-4 text-xs text-gray-500 tracking-[0.5em] opacity-0 animate-[fadeIn_3s_1s_ease-in_forwards] uppercase">Secured by Google</p>
                        <style>{`@keyframes fadeIn { to { opacity: 1; transform: scale(1.05); } }`}</style>
                    </div>
                );
            }

            // 2. LOGIN
            if (view === 'login') {
                return (
                    <div className="min-h-screen relative overflow-hidden flex flex-col justify-center p-6 bg-gray-900">
                        <div className="absolute top-0 -left-4 w-72 h-72 bg-purple-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob"></div>
                        <div className="absolute bottom-0 -right-4 w-72 h-72 bg-blue-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 animate-blob animation-delay-2000"></div>
                        
                        <div className="relative z-10 bg-gray-800/50 backdrop-blur-xl border border-gray-700 p-8 rounded-3xl shadow-2xl">
                            <h2 className="text-2xl font-bold mb-2 text-center">Log Masuk</h2>
                            <p className="text-gray-400 text-center text-xs mb-6">Pilih akaun Google untuk sync TikTok</p>
                            <div className="space-y-3">
                                {MOCK_ACCOUNTS.map(acc => (
                                    <button key={acc.id} onClick={() => handleLogin(acc)} className="w-full bg-white text-black p-3 rounded-xl flex items-center gap-3 hover:scale-[1.02] transition">
                                        <img src="https://www.svgrepo.com/show/475656/google-color.svg" className="w-5 h-5"/>
                                        <div className="text-left flex-1">
                                            <div className="font-bold text-sm">{acc.email}</div>
                                            <div className="text-[10px] text-gray-500">Auto-sync TikTok</div>
                                        </div>
                                    </button>
                                ))}
                            </div>
                        </div>
                    </div>
                );
            }

            // 3. DASHBOARD & OTHERS
            return (
                <div className="min-h-screen bg-black pb-20">
                    {/* Header */}
                    <div className="sticky top-0 z-40 bg-gray-900/80 backdrop-blur p-4 flex justify-between items-center border-b border-gray-800">
                        {view === 'main' ? 
                            <span className="font-bold text-lg bg-clip-text text-transparent bg-gradient-to-r from-blue-400 to-purple-500">UltraApp</span> : 
                            <button onClick={() => setView('main')}><i className="fa-solid fa-arrow-left text-xl"></i></button>
                        }
                        <div className="flex gap-3">
                            {user?.role === 'owner' && (
                                <button onClick={() => setView('admin')} className="text-red-500 animate-pulse"><i className="fa-solid fa-shield-halved"></i></button>
                            )}
                            <button onClick={() => setView('settings')}><i className="fa-solid fa-gear"></i></button>
                        </div>
                    </div>

                    {/* Content */}
                    <div className="p-5 space-y-6">
                        
                        {view === 'main' && (
                            <>
                                {/* Profile */}
                                <div className="bg-gray-800 p-5 rounded-2xl flex items-center gap-4 border border-gray-700 relative">
                                    <img src={profilePic} className="w-16 h-16 rounded-full border-2 border-blue-500 object-cover"/>
                                    <label className="absolute bottom-4 left-16 bg-blue-600 w-6 h-6 flex items-center justify-center rounded-full text-[10px]"><i className="fa-solid fa-pen"></i><input type="file" className="hidden" onChange={(e)=>{
                                        if(e.target.files[0]) {
                                            const reader = new FileReader();
                                            reader.onload = (ev) => setProfilePic(ev.target.result);
                                            reader.readAsDataURL(e.target.files[0]);
                                            alert("Gambar ditukar! (Pastikan patuh syariah)");
                                        }
                                    }}/></label>
                                    <div>
                                        <h3 className="font-bold">{user.name}</h3>
                                        <p className="text-xs text-gray-400"><i className="fa-brands fa-tiktok"></i> {user.tiktok}</p>
                                        <p className="text-[10px] text-green-400 mt-1"><i className="fa-solid fa-circle-check"></i> Google Connected</p>
                                    </div>
                                </div>

                                {/* Menu Grid */}
                                <div className="grid grid-cols-2 gap-3">
                                    <button onClick={() => setView('downloader')} className="bg-gray-800 p-4 rounded-xl flex flex-col items-center gap-2 active:bg-gray-700">
                                        <div className="w-10 h-10 rounded-full bg-pink-600 flex items-center justify-center"><i className="fa-solid fa-download"></i></div>
                                        <span className="text-xs font-bold">TikTok DL</span>
                                    </button>
                                    <button onClick={() => setView('ai')} className="bg-gray-800 p-4 rounded-xl flex flex-col items-center gap-2 active:bg-gray-700">
                                        <div className="w-10 h-10 rounded-full bg-cyan-600 flex items-center justify-center"><i className="fa-solid fa-robot"></i></div>
                                        <span className="text-xs font-bold">AI Bot</span>
                                    </button>
                                </div>

                                {/* Bot Status */}
                                <div className="bg-gray-800/50 border border-gray-700 p-4 rounded-2xl">
                                    <div className="flex justify-between items-center mb-2">
                                        <div className="flex items-center gap-2">
                                            <i className="fa-solid fa-paper-plane text-yellow-500"></i>
                                            <div>
                                                <h4 className="font-bold text-sm">Auto Share Bot</h4>
                                                <p className="text-[10px] text-gray-400">20 Links / 20 Mins</p>
                                            </div>
                                        </div>
                                        <button onClick={()=>setBotActive(!botActive)} className={`w-10 h-6 rounded-full p-1 transition ${botActive?'bg-green-500':'bg-gray-600'}`}>
                                            <div className={`w-4 h-4 bg-white rounded-full transition transform ${botActive?'translate-x-4':'translate-x-0'}`}></div>
                                        </button>
                                    </div>
                                    {botActive && (
                                        <div className="w-full bg-gray-700 h-1.5 rounded-full overflow-hidden mt-2">
                                            <div className="bg-green-500 h-full transition-all duration-1000" style={{width: `${(botTimer/20)*100}%`}}></div>
                                        </div>
                                    )}
                                </div>
                            </>
                        )}

                        {view === 'admin' && (
                            <div className="bg-black border border-red-800 p-5 rounded-2xl animate-pulse">
                                <h2 className="text-red-500 font-mono font-bold mb-4"><i className="fa-solid fa-user-secret"></i> OWNER PANEL</h2>
                                <div className="space-y-3">
                                    <div className="bg-gray-900 p-3 rounded text-xs border border-gray-700">Server Google: <span className="text-green-500">ONLINE</span></div>
                                    <div className="bg-gray-900 p-3 rounded text-xs border border-gray-700">Total Users: 14,202</div>
                                    <button className="w-full bg-red-900/30 border border-red-800 text-red-500 py-2 rounded text-xs hover:bg-red-800 hover:text-white transition">RESET SYSTEM</button>
                                </div>
                            </div>
                        )}

                        {view === 'downloader' && (
                            <div className="bg-gray-800 p-5 rounded-2xl text-center space-y-4">
                                <h2 className="font-bold text-xl">Download Video</h2>
                                <input className="w-full bg-gray-900 border border-gray-700 p-3 rounded-lg text-sm text-white" placeholder="Paste Link TikTok..."/>
                                <button className="w-full bg-pink-600 py-3 rounded-lg font-bold shadow-lg shadow-pink-600/30 active:scale-95 transition" onClick={()=>alert("Sedang download ke Cloud...")}>DOWNLOAD</button>
                            </div>
                        )}
                        
                        {view === 'ai' && (
                            <div className="h-[70vh] flex flex-col">
                                <div className="flex-1 overflow-y-auto space-y-2 mb-2 p-2 bg-gray-900 rounded-lg">
                                    {aiChat.map((m,i)=>(
                                        <div key={i} className={`text-sm p-2 rounded-lg max-w-[80%] ${m.sender==='user'?'bg-blue-600 ml-auto':'bg-gray-700'}`}>{m.text}</div>
                                    ))}
                                </div>
                                <div className="flex gap-2">
                                    <input value={aiInput} onChange={e=>setAiInput(e.target.value)} className="flex-1 bg-gray-800 rounded-lg px-3 text-sm" placeholder="Tanya AI..."/>
                                    <button onClick={()=>{
                                        if(!aiInput) return;
                                        const newChat = [...aiChat, {sender:'user', text:aiInput}];
                                        setAiChat(newChat);
                                        setAiInput('');
                                        setTimeout(()=>setAiChat([...newChat, {sender:'ai', text: "Saya sedang memproses di server..."}]), 1000);
                                    }} className="bg-cyan-600 p-3 rounded-lg"><i className="fa-solid fa-paper-plane"></i></button>
                                </div>
                            </div>
                        )}

                        {view === 'settings' && (
                             <div className="space-y-4">
                                <h2 className="text-xl font-bold">Setting</h2>
                                <div className="bg-gray-800 p-4 rounded-xl flex justify-between items-center">
                                    <span>Bunyi FX</span>
                                    <div className="w-8 h-5 bg-green-500 rounded-full relative"><div className="w-3 h-3 bg-white rounded-full absolute right-1 top-1"></div></div>
                                </div>
                                <div className="bg-gray-800 p-4 rounded-xl">
                                    <span className="block mb-2 font-bold text-sm"><i className="fa-solid fa-bug text-red-400"></i> Report Bug</span>
                                    <textarea className="w-full bg-gray-900 rounded p-2 text-xs" placeholder="Masalah..."></textarea>
                                    <button onClick={()=>alert("Laporan dihantar ke Owner!")} className="mt-2 bg-gray-700 text-xs py-2 px-4 rounded">Hantar</button>
                                </div>
                                <button onClick={()=>setView('login')} className="w-full py-3 text-red-500 font-bold border border-red-500/30 rounded-xl mt-4">LOG KELUAR</button>
                             </div>
                        )}

                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>

